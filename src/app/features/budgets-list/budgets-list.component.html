<div class="button-container">
  <div class="sort-buttons d-flex gap-2 mb-0">
    @for (buttonSel of selectedButton; track buttonSel.order) {
    <button (click)="setSort(buttonSel.order)" class="btn btn-outline-primary btn-sm">
      {{ buttonSel.name }}
    </button>
    }
  </div>
</div>

<div class="card-container">
  <div class="card d-flex">
    <h3>Presupuestos en cursos</h3>

    <ul class="p-0" *ngIf="budgets().length; else empty">
      <li *ngFor="let b of sortedBudgets(); let i = index">
        <a [routerLink]="['/presupuesto', b.id]">
          <div class="sub-card d-flex justify-content-between p-4">
            <div>
              <div>
                <strong>{{ b.name }}</strong>
              </div>
              <div>{{ b.email }}</div>
              <div>{{ b.phone }}</div>
            </div>
            <div class="section-two ps-1">
              <div>Servicios contratados:</div>
              <div>{{ b.services.join(", ") }}</div>
              <div *ngIf="b.services.includes('Web')">
                ({{ b.pages }} páginas - {{ b.languages }} idiomas)
              </div>
            </div>
            <div class="section-three justify-content-end">
              <div>Total:</div>
              <div>
                <span class="fs-4"
                  ><b>{{ b.total }}</b></span
                >
                €
              </div>
            </div>
          </div>
        </a>
      </li>
    </ul>
    <ng-template #empty>
      <p>No hay presupuestos todavía.</p>
    </ng-template>
  </div>
</div>
